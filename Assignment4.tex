\documentclass[journal,12pt,twocolumn]{IEEEtran}

\usepackage{setspace}
\usepackage{gensymb}
\singlespacing
\usepackage[cmex10]{amsmath}

\usepackage{amsthm}

\usepackage{mathrsfs}
\usepackage{txfonts}
\usepackage{stfloats}
\usepackage{bm}
\usepackage{cite}
\usepackage{cases}
\usepackage{subfig}

\usepackage{longtable}
\usepackage{multirow}

\usepackage{enumitem}
\usepackage{mathtools}
\usepackage{steinmetz}
\usepackage{tikz}

\usepackage{circuitikz}
\usepackage{verbatim}
\usepackage{tfrupee}
\usepackage[breaklinks=true]{hyperref}
\usepackage{graphicx}
\usepackage{tkz-euclide}

\usetikzlibrary{calc,math}
\usetikzlibrary{automata, positioning}
\usepackage{listings}
    \usepackage{color}                                            %%
    \usepackage{array}                                            %%
    \usepackage{longtable}                                        %%
    \usepackage{calc}                                             %%
    \usepackage{multirow}                                         %%
    \usepackage{hhline}                                           %%
    \usepackage{ifthen}                                           %%
    \usepackage{lscape}     
\usepackage{multicol}
\usepackage{chngcntr}

\DeclareMathOperator*{\Res}{Res}

\renewcommand\thesection{\arabic{section}}
\renewcommand\thesubsection{\thesection.\arabic{subsection}}
\renewcommand\thesubsubsection{\thesubsection.\arabic{subsubsection}}

\renewcommand\thesectiondis{\arabic{section}}
\renewcommand\thesubsectiondis{\thesectiondis.\arabic{subsection}}
\renewcommand\thesubsubsectiondis{\thesubsectiondis.\arabic{subsubsection}}


\hyphenation{op-tical net-works semi-conduc-tor}
\def\inputGnumericTable{}                                 %%

\lstset{
%language=C,
frame=single, 
breaklines=true,
columns=fullflexible
}
\begin{document}

\newcommand{\BEQA}{\begin{eqnarray}}
\newcommand{\EEQA}{\end{eqnarray}}
\newcommand{\define}{\stackrel{\triangle}{=}}
\bibliographystyle{IEEEtran}
\raggedbottom
\setlength{\parindent}{0pt}
\providecommand{\mbf}{\mathbf}
\providecommand{\pr}[1]{\ensuremath{\Pr\left(#1\right)}}
\providecommand{\qfunc}[1]{\ensuremath{Q\left(#1\right)}}
\providecommand{\sbrak}[1]{\ensuremath{{}\left[#1\right]}}
\providecommand{\lsbrak}[1]{\ensuremath{{}\left[#1\right.}}
\providecommand{\rsbrak}[1]{\ensuremath{{}\left.#1\right]}}
\providecommand{\brak}[1]{\ensuremath{\left(#1\right)}}
\providecommand{\lbrak}[1]{\ensuremath{\left(#1\right.}}
\providecommand{\rbrak}[1]{\ensuremath{\left.#1\right)}}
\providecommand{\cbrak}[1]{\ensuremath{\left\{#1\right\}}}
\providecommand{\lcbrak}[1]{\ensuremath{\left\{#1\right.}}
\providecommand{\rcbrak}[1]{\ensuremath{\left.#1\right\}}}
\theoremstyle{remark}
\newtheorem{rem}{Remark}
\newcommand{\sgn}{\mathop{\mathrm{sgn}}}
\providecommand{\abs}[1]{\vert#1\vert}
\providecommand{\res}[1]{\Res\displaylimits_{#1}} 
\providecommand{\norm}[1]{\lVert#1\rVert}
%\providecommand{\norm}[1]{\lVert#1\rVert}
\providecommand{\mtx}[1]{\mathbf{#1}}
\providecommand{\mean}[1]{E[ #1 ]}
\providecommand{\fourier}{\overset{\mathcal{F}}{ \rightleftharpoons}}
%\providecommand{\hilbert}{\overset{\mathcal{H}}{ \rightleftharpoons}}
\providecommand{\system}{\overset{\mathcal{H}}{ \longleftrightarrow}}
	%\newcommand{\solution}[2]{\textbf{Solution:}{#1}}
\newcommand{\solution}{\noindent \textbf{Solution: }}
\newcommand{\cosec}{\,\text{cosec}\,}
\providecommand{\dec}[2]{\ensuremath{\overset{#1}{\underset{#2}{\gtrless}}}}
\newcommand{\myvec}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}}}
\newcommand{\mydet}[1]{\ensuremath{\begin{vmatrix}#1\end{vmatrix}}}
\numberwithin{equation}{subsection}
\makeatletter
\@addtoreset{figure}{problem}
\makeatother
\let\StandardTheFigure\thefigure
\let\vec\mathbf
\renewcommand{\thefigure}{\theproblem}
\def\putbox#1#2#3{\makebox[0in][l]{\makebox[#1][l]{}\raisebox{\baselineskip}[0in][0in]{\raisebox{#2}[0in][0in]{#3}}}}
     \def\rightbox#1{\makebox[0in][r]{#1}}
     \def\centbox#1{\makebox[0in]{#1}}
     \def\topbox#1{\raisebox{-\baselineskip}[0in][0in]{#1}}
     \def\midbox#1{\raisebox{-0.5\baselineskip}[0in][0in]{#1}}
\vspace{3cm}
\title{Assignment 4}
\author{Sachin karumanchi-AI20BTECH11013}
\maketitle
\newpage
\bigskip
\renewcommand{\thefigure}{\theenumi}
\renewcommand{\thetable}{\theenumi}
Download all latex-tikz codes from 
\begin{lstlisting}
https://github.com/sachinkarumanchi/probability_and_random_variables/blob/assignment4/Assignment4.tex
\end{lstlisting}
\section{Problem}
Cars arrive at a service station according to Poisson's distribution with a mean rate of 5 per hour.The service time per car is exponential with a mean of 10 minutes.At a steady state,the average waiting time in the queue is 
\section{Formulae Derivation}
This problem can be solved using Queuing theory.But first we have to understand queuing theory.
\newline In queuing theory we try to determine what happens when people join in queue.
\newline \textbf{Parameters for measuring Queuing performance}
\begin{enumerate}
    \item $\lambda$ = Average arrival time
    \item $\mu$ = Average service time
    \item $\rho$ = Utilization factor
    \item $L_q$ = Average number in the queue
    \item $L$ = Average number in the system
    \item $W_q$ = Average waiting time
    \item $W$ = Average time in the system
    \item $P_n$ = Steady state probability of exactly n customers in the system
\end{enumerate}
Typically most of the times arrivals follow poisson distribution and services follow exponential distributions.
\newline The given question only has one queue so we can conclude that it is a single server model and there is no limit for number of cars in the queue so we can say that it is "\textbf{M/M/1:/$\infty$/$\infty$/FIFO}" by kendall's notation (or) usually "\textbf{M/M/1}" 
\newline Here '\textbf{M}' indicates the memory less property of the model first \textbf{M} is for arrival and second one for service and 1 is the number of servers in the model and '$\infty$' indicates the limit of the queue and second '$\infty$' represent population and '\textbf{FIFO}' represents First-In First-Out service.
\newline \textbf{NOTE:} In cases where there is no limit in the queue we only take the cases where $\frac{\lambda}{\mu}<1$. Otherwise there could be customers who will not get their service. \newline The memory less property allows us to assume that one event can take place in a small interval of time. The event could be either a arrival or a service.
\newline \textbf{Deriving formulas}
\newline For the time interval($t,t+h$), where $h \to 0$
\begin{align}
    \Pr{(\text{1 arrival})}&=\lambda h\\
    \Pr{(\text{1 service})}&=\mu h\\
    \Pr{(\text{no arrival})}&=1-\lambda h\\
    \Pr{(\text{no service})}&=1-\mu h
\end{align}
\begin{multline}
    P_{n}(t+h)=P_{n-1}(t)\times\Pr{(\text{1 arrival})}\times\Pr{(\text{no service})}\\
    +P_{n+1}(t)\times\Pr{(\text{no arrival})}\times\Pr{(\text{1 service})}\\
    +P_n(t)\times\Pr{(\text{no arrival})}\times\Pr{(\text{no service})}\label{eq:eq1}
\end{multline}
\begin{multline}
    \implies P_{n}(t+h)=P_{n-1}(t)(\lambda h)(1-\mu h)\\
    +P_{n+1}(t)(\mu h)(1- \lambda h)\\
    +P_n(t)(1-\lambda h)(1-\mu h)
\end{multline}
Now, Neglecting higher order terms of $h$.
\begin{multline}
    \implies P_{n}(t+h)=P_{n-1}\lambda h+P_{n+1}\mu h\\
    +P_n(t)(1-\lambda h-\mu h)
\end{multline}
\begin{multline}
    \implies \frac{P_n(t+h)-P_n(t)}{h}=P_{n-1}(t)\lambda+P_{n+1}(t)\mu\\
    -P_n(t)(\lambda+\mu)
\end{multline}
At steady state, $P_n(t+h)=P_n(t)$
\begin{align}
    \implies\lambda P_{n-1}+\mu P_{n+1}&=(\lambda+\mu)P_n\label{eq:res1}
\end{align}
Now, calculating $P_0(t+h)$ using \eqref{eq:eq1}
\begin{multline}
    P_0(t+h)=P_1(t)(1-\lambda h)(\mu h)\\
    +P_0(t)(1-\lambda h)
\end{multline}
Again, Neglecting higher order terms of $h$
\begin{multline}
    \implies P_0(t+h)=P_1(t)(\mu h)\\
    +P_0(t)(1-\lambda h)
\end{multline}
\begin{align}
    \implies\frac{P_0(t+h)-P_0(t)}{h}&=P_1(\mu)-P_0(\lambda)
\end{align}
At steady state, $P_0(t+h)=P_0(t)$
\begin{align}
    \implies \mu P_1&=\lambda P_0\label{eq:eq2}\\
    \implies P_1&=\brak{\frac{\lambda}{\mu}}P_0\label{eq:res2}
\end{align}
Using \eqref{eq:res1} by substituting $n=1$
\begin{align}
    \lambda P_0+\mu P_2&=(\lambda+\mu)P_1\\
    \implies \lambda P_0+\mu P_2&=\lambda P_1+\mu P_1
\end{align}
from \eqref{eq:eq2} and \eqref{eq:res2}
\begin{align}
    \implies\lambda P_0+\mu P_2&=\lambda P_1+\lambda P_0\\
    \implies P_2&=\brak{\frac{\lambda}{\mu}}P_1\\
    \implies P_2&=\brak{\frac{\lambda}{\mu}}^2P_0\label{eq:eq3}
\end{align}
We assume $\frac{\lambda}{\mu}=\rho$ and generalize $P_n$ by \eqref{eq:res2} and \eqref{eq:eq3}
\begin{align}
  P_n&=\brak{\frac{\lambda}{\mu}}^nP_0\\
  \implies P_n&=\rho^nP_0\label{eq:res3}
\end{align}
We know that sum of all probabilities equal to 1
\begin{align}
    \sum_{i=1}^{\infty}P_i&=1\\
    \implies P_0+P_1+P_2+....&=1
\end{align}
Using \eqref{eq:res3}
\begin{align}
    \implies P_0+\rho P_0+\rho^2P_0+....&=1\\
    \implies P_0\brak{1+\rho+\rho^2+...}&=1\\
    \implies P_0\brak{\frac{1}{1-\rho}}&=1\\
    \implies P_0&=1-\rho\label{eq:res4}\\
    \therefore P_n=\rho^n(1-\rho)
\end{align}
The number of people in the system ($L_s$) is the expected value
\begin{align}
    L_s&=\sum_{i=0}^{\infty}iP_i\\
    \implies L_s&=\sum_{i=0}^{\infty}i\rho^iP_0\\
    \implies L_s&=\rho P_0\sum_{i=0}^{\infty}i\rho^{i-1}\\
    \implies L_s&=\rho P_0\sum_{i=0}^{\infty}\frac{d}{d\rho}\brak{\rho^i}\\
    \implies L_s&=\rho P_0\frac{d}{d\rho}\sum_{i=0}^{\infty}\rho^i\\
    \implies L_s&=\rho P_0\frac{d}{d\rho}\brak{\frac{1}{1-\rho}}\\
    \implies L_s&=\rho P_0\frac{1}{(1-\rho)^2}
\end{align}
By using \eqref{eq:res4}
\begin{align}
    \implies L_s&=\rho(1-\rho)\frac{1}{(1-\rho)^2}\\
    \implies L_s&=\frac{\rho}{1-\rho}
\end{align}
We can also say that the number of people beign served is $\rho$
\begin{align}
    \therefore L_s&=L_q+\text{people beign served}\\
    \implies L_s&=L_q+\rho\\
    \implies L_q&=L_s-\rho\\
    \implies L_q&=\frac{\rho}{1-\rho}-\rho\\
    \implies L_q&=\frac{\rho^2}{1-\rho}
\end{align}
\newpage
The relation between $L_s$ and $W_s$ and $L_q$ and $W_q$ are the Little's equation and they are related as
\begin{align}
    L_s&=\lambda W_s\\
    L_q&=\lambda W_q
\end{align}
\section{Solution}
From the question given,
\begin{align}
    \lambda &=5\text{hr}^{-1}\\
    \mu&=\frac{1}{10}\text{min}^{-1} =6\text{hr}^{-1}
    \end{align}
Therefore,
\begin{align}
    \text{Utilization rate}(\rho)&=\frac{\lambda}{\mu}=\frac{5}{6}
    \end{align}
Average number (or) length in queue be $L_q$
    \begin{align}
    L_q&=\frac{\rho^2}{1-\rho}\\
    &=\frac{\brak{\frac{5}{6}}^2}{1-\frac{5}{6}}\\
    &=\frac{25}{6}
    \end{align}
Let the Average waiting time in queue be $W_q$
    \begin{align}
    W_q&=\frac{L_q}{\lambda}\\
    &=\frac{\frac{25}{6}}{5}\\
    &=\frac{5}{6}\text{hr}=50\text{min}
\end{align}
The average waiting time in the queue is 50 min.
\newpage
\begin{table}[h!]
\centering
\resizebox{\columnwidth}{!}
{
    \begin{tabular}{|c|c|}
    \hline
    Parameter & Value \\
    \hline
    $\lambda$ & $5$hr$^{-1}$\\
    \hline
    $\mu$ & $6$hr$^{-1}$\\
    \hline
    $\text{Utilization rate}\brak{\rho}=\frac{\lambda}{\mu}$ & $\frac{5}{6}$\\[1ex]
    \hline
    $\text{Length in queue}\brak{L_q}=\frac{\rho^2}{1-\rho}$ & $\frac{25}{6}$\\[1ex]
    \hline
    $\text{Waiting time in queue}\brak{W_q}=\frac{L_q}{\lambda}$ & $\frac{5}{6}$hr\\[1ex]
    \hline     
    \end{tabular}
}
    \caption{Parameters of the given question and values.}
    \label{TABLE-1}
\end{table}
\end{document}
